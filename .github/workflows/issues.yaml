name: Issues Workflow

on:
  issues:
    types: [opened]

env:
  WORKFLOW_URL: ${{ secrets.WORKFLOW_URL }}
     
jobs:       
  issue_created:
    name: Issue Created
    if: ${{ github.event_name == 'issues' && github.event.action == 'opened' }}
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: |
          sleep 3;
          curl --silent --location --request POST "$WORKFLOW_URL" \
          --header 'Accept: application/json' \
          --header 'Content-Type: text/plain' \
          --data-raw '{
              "action": "${{ github.event.action }}",
              "description": "${{ github.event.issue.body }}",
              "number" : "${{ github.event.issue.number }}",
              "title" : "${{ github.event.issue.title }}",
              "url" : "${{ github.event.issue.html_url }}"
          }'