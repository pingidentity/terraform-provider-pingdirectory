---
page_title: "Provider: PingDirectory"
description: |-
  The PingDirectory provider is used to manage the configuration of a PingDirectory server through the Configuration API.
---

# PingDirectory Provider

The PingDirectory provider manages the configuration of a PingDirectory server through the Configuration API. The provider only manages configuration, similar to the `dsconfig` command-line tool. The provider does not manage other aspects of the PingDirectory server, such as schema and user data.

The Configuration API requires credentials for basic auth, which must be passed to the provider.

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `ca_certificate_pem_files` (Set of String) Paths to files containing PEM-encoded certificates to be trusted as root CAs when connecting to the PingDirectory server over HTTPS. If not set, the host's root CA set will be used. Default value can be set with the `PINGDIRECTORY_PROVIDER_CA_CERTIFICATE_PEM_FILES` environment variable, using commas to delimit multiple PEM files if necessary.
- `https_host` (String) URI for PingDirectory HTTPS port. Default value can be set with the `PINGDIRECTORY_PROVIDER_HTTPS_HOST` environment variable.
- `insecure_trust_all_tls` (Boolean) Set to true to trust any certificate when connecting to the PingDirectory server. This is insecure and should not be enabled outside of testing. Default value can be set with the `PINGDIRECTORY_PROVIDER_INSECURE_TRUST_ALL_TLS` environment variable.
- `password` (String, Sensitive) Password for PingDirectory admin user. Default value can be set with the `PINGDIRECTORY_PROVIDER_PASSWORD` environment variable.
- `username` (String) Username for PingDirectory admin user. Default value can be set with the `PINGDIRECTORY_PROVIDER_USERNAME` environment variable.

## Server profile examples

Examples duplicating behavior of existing [server profiles](https://github.com/pingidentity/pingidentity-server-profiles) can be found in the `examples/server-profiles` directory.

## Basic example and relation to the `dsconfig` tool

The following example configures a `Location` object and updates the PingDirectory `Global Configuration`.

Applying this Terraform configuration file will create a `Location` on the PingDirectory server managed by Terraform, and will update the PingDirectory `Global Configuration` to match the defined resource. Terraform can then manage this configuration, rather than using dsconfig commands such as:

```
dsconfig create-location --location-name MyLocation --set "description:My description"
dsconfig set-location-prop --location-name MyLocation --set "description:My changed description"
dsconfig delete-location --location-name MyLocation
dsconfig set-global-configuration-prop --set encrypt-data:true --set location:MyLocation
```

```terraform
terraform {
  required_providers {
    pingdirectory = {
      source = "pingidentity/pingdirectory"
    }
  }
}

provider "pingdirectory" {
  username   = "cn=administrator"
  password   = "2FederateM0re"
  https_host = "https://localhost:1443"
  # Warning: The insecure_trust_all_tls attribute configures the provider to trust any certificate presented by the PingDirectory server.
  insecure_trust_all_tls = true
}

# Create a sample location
resource "pingdirectory_location" "myLocation" {
  id          = "MyLocation"
  description = "My description"
}

# Update the default global configuration to use the created location, and to enable encryption
resource "pingdirectory_default_global_configuration" "global" {
  location     = pingdirectory_location.myLocation.id
  encrypt_data = true
}
```
